
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Preparing the USB Media Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="macos-memory-allocation.html" />
    
    
    <link rel="prev" href="../useful-skills-terminology/what-about-kexts.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../a-guide-to-build-guides.html">
            
                <a href="../a-guide-to-build-guides.html">
            
                    
                    A Guide to Build Guides
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Before you start</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../before-you-start/know-your-hardware.html">
            
                <a href="../before-you-start/know-your-hardware.html">
            
                    
                    Know Your Hardware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../before-you-start/bios-configuration.html">
            
                <a href="../before-you-start/bios-configuration.html">
            
                    
                    BIOS Configuration
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Necessary Skills & Terminology</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../useful-skills-terminology/a-little-unix-never-hurt-anyone.html">
            
                <a href="../useful-skills-terminology/a-little-unix-never-hurt-anyone.html">
            
                    
                    A Little UNIX Never Hurt Anyone!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../useful-skills-terminology/just-enough-git.html">
            
                <a href="../useful-skills-terminology/just-enough-git.html">
            
                    
                    Just Enough GIT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../useful-skills-terminology/whats-an-efi.html">
            
                <a href="../useful-skills-terminology/whats-an-efi.html">
            
                    
                    What's an EFI?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../useful-skills-terminology/what-about-kexts.html">
            
                <a href="../useful-skills-terminology/what-about-kexts.html">
            
                    
                    What about KEXTs?
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Installing macOS</li>
        
        
    
        <li class="chapter active" data-level="4.1" data-path="preparing-the-usb-media.html">
            
                <a href="preparing-the-usb-media.html">
            
                    
                    Preparing the USB Media
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="macos-memory-allocation.html">
            
                <a href="macos-memory-allocation.html">
            
                    
                    macOS Memory Allocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="smc-emulation.html">
            
                <a href="smc-emulation.html">
            
                    
                    SMC Emulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="disabling-touchid.html">
            
                <a href="disabling-touchid.html">
            
                    
                    Disabling TouchID lookup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="clover-template.html">
            
                <a href="clover-template.html">
            
                    
                    CLOVER Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="display-configuration.html">
            
                <a href="display-configuration.html">
            
                    
                    Display Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="choosing-a-macbook-smbios.html">
            
                <a href="choosing-a-macbook-smbios.html">
            
                    
                    Choosing a MacBook SMBIOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="setting-up-input-devices.html">
            
                <a href="setting-up-input-devices.html">
            
                    
                    Setting up Input Devices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="usb-pre-setup.html">
            
                <a href="usb-pre-setup.html">
            
                    
                    USB pre-setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="pre-installation-review.html">
            
                <a href="pre-installation-review.html">
            
                    
                    Pre-Installation Review
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="installing-the-operating-system.html">
            
                <a href="installing-the-operating-system.html">
            
                    
                    Installing the Operating System
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Installation</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../post-installation/adding-clover-to-the-bios.html">
            
                <a href="../post-installation/adding-clover-to-the-bios.html">
            
                    
                    Adding CLOVER to Your Boot Drive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../post-installation/configuring-usb-ports.html">
            
                <a href="../post-installation/configuring-usb-ports.html">
            
                    
                    Configuring USB Ports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../post-installation/enabling-wifi-and-bluetooth.html">
            
                <a href="../post-installation/enabling-wifi-and-bluetooth.html">
            
                    
                    Enabling WIFI & Bluetooth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../post-installation/setting-up-ethernet-adapters.html">
            
                <a href="../post-installation/setting-up-ethernet-adapters.html">
            
                    
                    Setting up Ethernet Adapters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../post-installation/configuring-your-audio-device.html">
            
                <a href="../post-installation/configuring-your-audio-device.html">
            
                    
                    Configuring your Audio Device
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Battery/Power Management</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../battery-power-management/locate-that-missing-battery.html">
            
                <a href="../battery-power-management/locate-that-missing-battery.html">
            
                    
                    Locate that Missing Battery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../battery-power-management/correcting-sleep-problems.html">
            
                <a href="../battery-power-management/correcting-sleep-problems.html">
            
                    
                    Correcting Sleep Problems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../battery-power-management/optimizing-battery-life.html">
            
                <a href="../battery-power-management/optimizing-battery-life.html">
            
                    
                    Optimizing Battery Life
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Extras</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../extras/enabling-filevault.html">
            
                <a href="../extras/enabling-filevault.html">
            
                    
                    Enabling FileVault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../extras/display-rotation.html">
            
                <a href="../extras/display-rotation.html">
            
                    
                    Display Rotation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../extras/dual-booting-with-bluetooth-devices.html">
            
                <a href="../extras/dual-booting-with-bluetooth-devices.html">
            
                    
                    Dual bootingâ with Bluetooth Devices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../extras/asussmc.html">
            
                <a href="../extras/asussmc.html">
            
                    
                    ASUS Function Keys
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Preparing the USB Media</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="preparing-the-usb-media">Preparing the USB Media</h1>
<h2 id="prepare-macos-for-installation">Prepare macOS for Installation</h2>
<p>For this step, you&apos;ll need a USB thumb drive that&apos;s 16GB or larger, and if possible it should be USB 2.0. Plug the stick into another Mac before continuing. This procedure will erase the USB drive, so save any files to another location before proceeding.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>This method assumes you are using a <strong>Mac</strong> or a <strong>macOS environment system</strong>, and your target system uses UEFI. If you are using Windows or Linux, review the <a href="https://internet-install.gitbook.io/macos-internet-install/preparing-your-installer.../preparing-your-installer-media..." target="_blank">Preparing your Installer Media section</a> of the Vanilla Internet install guide instead.</p>
</div></div></p>
<h3 id="create-the-target-partition">Create the Target Partition</h3>
<p>To start, we need to prepare the target partitions where CLOVER (the boot manager, down bellow) and macOS Installer will be copied to.</p>
<ul>
<li>Plug the USB stick into your computer, and open <strong>Disk Utility</strong>.</li>
<li>In Disk Utility, select <strong>View</strong> and then <strong>Show All Devices</strong>.</li>
</ul>
<p><img src="../.gitbook/assets/screen-shot-2019-11-03-at-8.16.28-am.png" alt=""></p>
<ul>
<li>Select your Thumb Drive, and then Erase.</li>
<li>Erase the drive using a <strong>macOS Extended</strong> partition, and <strong>GUID partition map</strong>.</li>
</ul>
<p><img src="../.gitbook/assets/screen-shot-2019-11-03-at-8.20.01-am.png" alt=""></p>
<ul>
<li>Once the drive is formatted, select it again followed by Partition.</li>
<li>Click the <code>+</code> symbol to add a partition, and create the following additional partition.<ul>
<li>Name: CLOVER</li>
<li>Format: MS-DOS (FAT)</li>
<li>Size: 200 MB </li>
</ul>
</li>
</ul>
<p><img src="../.gitbook/assets/screen-shot-2019-11-29-at-1.08.22-pm.png" alt=""></p>
<p>The EFI partition should be mounted automatically once formatted.</p>
<h2 id="preparing-macos-for-installation">Preparing macOS for Installation</h2>
<p>To prepare our USB media, we&apos;ll use a tool called gibMacOS written by CorpNewt. This tool will download macOS installation files that we&apos;ll use to write to our USB stick. Start by downloading the software.</p>
<p><a href="https://github.com/corpnewt/gibMacOS" target="_blank">Download gibMacOs @ Github</a></p>
<p>Once it&apos;s downloaded, extract it and run the <strong>gibMacOS.command</strong> to download the installation media. Use the <code>-v</code> command to <em>specify the version of macOS</em> we&apos;re downloading. For our example, we&apos;ll download Mojave 10.14.6.</p>
<pre><code class="lang-text">./gibMacOS.command -v 10.14.6
</code></pre>
<p>The process will take a while to complete, when it finishes the macOS installation files can be found in the <code>gibMacOS/macOS Downloads/publicrelease</code> directory. Now that it&apos;s downloaded, we can build the application using a script that&apos;s included with gibMacOS. To do this, we&apos;ll run the script and then drag the folder containing the installation media into the terminal window.</p>
<pre><code class="lang-text">./BuildmacOSInstallApp.command
</code></pre>
<p>Press enter in the terminal window after dragging and dropping the installation folder, and the script will build the application that we&apos;ll use to write our media files to the USB stick. Once that process completes, find the &quot;Install macOS {MacOS Version}.app&quot; in the same folder and drag it to Applications. Next verify the name of your USB volume and use the createinstallmedia command to write the installation files to the USB stick. Be sure of the volume path before continuing. If you&apos;re using a macOS different than the example update the Install macOS Mojave.app reference to the version of macOS that you&apos;re creating the media for.</p>
<pre><code class="lang-text">sudo /Applications/Install\ macOS\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/{USB VOLUME}
</code></pre>
<p>Press yes to overwrite the volume, and the utility should format and write the installation files to the stick.</p>
<h2 id="installing-clover">Installing CLOVER</h2>
<p>Installing Clover is a relatively simple process, and most guides recommend using the Clover installer. We&apos;re going to instead walk down the manual path of installing Clover to your EFI. This process works for thumb drives and for installation onto your SSD/HDD and it will prepare your EFI for changes made in subsequent sections.</p>
<p>First thing first, you should download the latest Clover from the Clover Build Repository. Be sure to download the .tar.lzma package.</p>
<p><a href="https://cloverdb.com" target="_blank">Download Clover @ CBR</a></p>
<p>Now that you have the .tar.lzma package, extract it with The Unarchiver or your archive tool of choice. Mount the extracted ISO image by double clicking it.</p>
<h2 id="create-the-clover-structure">Create the CLOVER Structure</h2>
<p>The tree view below describes the typical layout of a CLOVER UEFI installation. Use the CLOVER iso image to create this structure within your EFI partition by making directories and copying files from the ISO. Do not add anything more than what&apos;s listed in the tree view below for now.</p>
<pre><code class="lang-text">EFI
&#x251C;&#x2500;&#x2500; BOOT
&#x2502;   &#x2514;&#x2500;&#x2500; BOOTX64.efi
&#x2514;&#x2500;&#x2500; CLOVER
    &#x251C;&#x2500;&#x2500; ACPI // create these folders
    &#x2502;   &#x251C;&#x2500;&#x2500; origin
    &#x2502;   &#x2514;&#x2500;&#x2500; patched
    &#x251C;&#x2500;&#x2500; CLOVERX64.efi
    &#x251C;&#x2500;&#x2500; drivers
    &#x2502;   &#x2514;&#x2500;&#x2500; UEFI
    &#x2502;       &#x251C;&#x2500;&#x2500; HFSPlus.efi
    &#x2502;       &#x2514;&#x2500;&#x2500; FSInject.efi
    &#x251C;&#x2500;&#x2500; kexts
    &#x2502;   &#x2514;&#x2500;&#x2500; Other
    &#x251C;&#x2500;&#x2500; themes
    &#x2514;&#x2500;&#x2500; tools (optional)
        &#x251C;&#x2500;&#x2500; Shell32.efi
        &#x251C;&#x2500;&#x2500; Shell64.efi
        &#x251C;&#x2500;&#x2500; Shell64U.efi
        &#x2514;&#x2500;&#x2500; bdmesg.efi
</code></pre>
<p>Now you&apos;re ready for the rest of the guide. <strong>Don&apos;t try and boot CLOVER yet</strong>. The structure is in place, but it is missing many components required for booting.</p>
<p>That&apos;s it!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../useful-skills-terminology/what-about-kexts.html" class="navigation navigation-prev " aria-label="Previous page: What about KEXTs?">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="macos-memory-allocation.html" class="navigation navigation-next " aria-label="Next page: macOS Memory Allocation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Preparing the USB Media","level":"4.1","depth":1,"next":{"title":"macOS Memory Allocation","level":"4.2","depth":1,"path":"prepare-install-macos/macos-memory-allocation.md","ref":"prepare-install-macos/macos-memory-allocation.md","articles":[]},"previous":{"title":"What about KEXTs?","level":"3.4","depth":1,"path":"useful-skills-terminology/what-about-kexts.md","ref":"useful-skills-terminology/what-about-kexts.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","hints"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"fontsettings":{"theme":"night","family":"sans","size":2},"search-plus":{},"addcssjs":{"css":[],"js":[]},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"prepare-install-macos/preparing-the-usb-media.md","mtime":"2020-03-26T15:08:17.773Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-26T15:09:08.644Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

